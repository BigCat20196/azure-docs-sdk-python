### YamlMime:PythonClass
uid: azure.servicebus.send_handler.SessionSender
name: SessionSender
fullName: azure.servicebus.send_handler.SessionSender
module: azure.servicebus.send_handler
inheritances:
- azure.servicebus.send_handler.Sender
summary: 'A session message sender.


  This handler is for sending messages to a sessionful Service Bus entity.

  It operates a single connection that must be opened and closed on completion.

  The Sender can be run within a context manager to ensure that the connection is
  closed on exit.

  The Sender should not be instantiated directly, and should be accessed from a *QueueClient*
  or

  *TopicClient* using the *get_sender()* method.

  An attempt to send a message without a session ID specified either on the Sender
  or the message

  will raise a *ValueError*.



  > [!NOTE]

  > This object is not thread-safe.

  >'
constructor:
  syntax: SessionSender(handler_id, target, auth_config, session=None, connection=None,
    encoding='UTF-8', debug=False, **kwargs)
  parameters:
  - name: handler_id
    description: The ID used as the connection name for the Sender.
    types:
    - <xref:str>
  - name: target
    description: The endpoint to send messages to.
    types:
    - <xref:uamqp.Target>
  - name: auth_config
    description: The SASL auth credentials.
    types:
    - <xref:dict>[<xref:str>, <xref:str>]
  - name: session
    description: 'An optional session ID. If supplied, all outgoing messages will
      have this

      session ID added (unless they already have one specified).'
    types:
    - <xref:str>
  - name: connection
    description: A shared connection [not yet supported].
    types:
    - <xref:uamqp.Connection>
  - name: encoding
    description: The encoding used for string properties. Default is 'UTF-8'.
    types:
    - <xref:str>
  - name: debug
    description: Whether to enable network trace debug logs.
    types:
    - <xref:bool>
methods:
- uid: azure.servicebus.send_handler.SessionSender.queue_message
  name: queue_message
  summary: 'Queue a message to be sent later.


    This operation should be followed up with send_pending_messages. If neither the
    Sender nor the message

    has a session ID, a *ValueError* will be raised.'
  signature: queue_message(message)
  parameters:
  - name: message
    description: The message to be sent.
    isRequired: true
    types:
    - <xref:azure.servicebus.Message>
- uid: azure.servicebus.send_handler.SessionSender.schedule
  name: schedule
  summary: 'Send one or more messages to be enqueued at a specific time.


    Returns a list of the sequence numbers of the enqueued messages.'
  signature: schedule(schedule_time, *messages)
  parameters:
  - name: schedule_time
    description: The date and time to enqueue the messages.
    isRequired: true
    types:
    - <xref:datetime.datetime>
  - name: messages
    description: The messages to schedule.
    isRequired: true
    types:
    - <xref:azure.servicebus.common.message.Message>
  return:
    types:
    - <xref:list>[<xref:int>]
- uid: azure.servicebus.send_handler.SessionSender.send
  name: send
  summary: 'Send a message and blocks until acknowledgement is received or the operation
    fails.


    If neither the Sender nor the message has a session ID, a *ValueError* will be
    raised.'
  signature: send(message)
  parameters:
  - name: message
    description: The message to be sent.
    isRequired: true
    types:
    - <xref:azure.servicebus.common.message.Message>
